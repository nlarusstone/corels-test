import tabular as tb

fout = 'weapon_sparsity_jmlr-CORELS.csv'
names = 'Fold,Method,C,cp,R,accuracy,leaves,train_accuracy,ntest,TP,FP,FN,TN,TPR,FPR'
fold = [('weapon_%d' % i) for i in range(10)]
method = ['CORELS'] * 10
z = [0] * 10

y = tb.tabarray(SVfile='weapon_sparsity-CORELS.csv', namesinheader=False, names='Fold,Method,C,cp,R,accuracy,leaves,train_accuracy'.split(','))

# python eval_model.py weapon -n 10000000 -r 0.0025 -p 1 -c 2 --minor

train_acc = [0.7132552914745182, 0.7057664262346773, 0.7104568207796302, 0.7072839068227503, 0.7119545938275984, 0.7068700484805487, 0.7148713097631154, 0.7152260454850026, 0.7033621063418865, 0.717433289976745]

acc = [0.8394185260311021, 0.8377281947261663, 0.8130493576741041, 0.8492224475997295, 0.8373901284651791, 0.8471940500338067, 0.8367139959432048, 0.815077755240027, 0.8617308992562542, 0.8208248816768087]

tpr = [0.49640287769784175, 0.5827338129496403, 0.5899280575539568, 0.60431654676259, 0.5251798561151079, 0.5611510791366906, 0.4676258992805755, 0.5611510791366906, 0.5899280575539568, 0.5755395683453237]

fpr = [0.1436679673643136, 0.14969847463639588, 0.17594891805604823, 0.13870166725789287, 0.14721532458318554, 0.13870166725789287, 0.14508691025186235, 0.1724015608371763, 0.1248669741042923, 0.16708052500886839]

x = tb.tabarray(columns=[fold, method, z, z, [0.0025] * 10, acc, y['leaves'][y['R']==0.0025], train_acc, z, z, z, z, z, tpr, fpr], names=names)

# python eval_model.py weapon -n 1000000 -r 0.01 -p 1 -c 2 --minor

train_acc = [0.7030664932403138, 0.6960111938827795, 0.6971345236687556, 0.6942178077332387, 0.7007015884277324, 0.6952228922785858, 0.702159946395491, 0.6967797879468685, 0.694572543455126, 0.6972527689093847]

acc = [0.8387423935091278, 0.8461798512508452, 0.8563218390804598, 0.8475321162947937, 0.8299526707234618, 0.8509127789046653, 0.8404327248140635, 0.8495605138607167, 0.8536173089925625, 0.8448275862068966]

tpr = [0.4460431654676259, 0.5683453237410072, 0.539568345323741, 0.60431654676259, 0.5035971223021583, 0.5827338129496403, 0.45323741007194246, 0.5467625899280576, 0.5683453237410072, 0.5467625899280576]

fpr = [0.1418942887548776, 0.14012061014544164, 0.12805959560127705, 0.14047534586732885, 0.15395530329904222, 0.13586378148279532, 0.14047534586732885, 0.13550904576090814, 0.13231642426392337, 0.14047534586732885]

x = x.rowstack(tb.tabarray(columns=[fold, method, z, z, [0.01] * 10, acc, y['leaves'][y['R']==0.01], train_acc, z, z, z, z, z, tpr, fpr], names=names))

# python eval_model.py weapon -n 10000 -r 0.04 -p 1 -c 2 --minor

train_acc = [0.6756730124945804, 0.670411099286587, 0.6692680619605061, 0.6679476567734816, 0.673446060462733, 0.6687162508375705, 0.6749044184304915, 0.6681644397146348, 0.6686177131370462, 0.6730322021205313]

acc = [0.8580121703853956, 0.8627450980392157, 0.8688302907369845, 0.8617308992562542, 0.8485463150777552, 0.8674780256930358, 0.8536173089925625, 0.8671399594320487, 0.8728870858688302, 0.8593644354293442]

tpr = [0.37410071942446044, 0.4748201438848921, 0.4892086330935252, 0.5323741007194245, 0.4316546762589928, 0.5107913669064749, 0.38848920863309355, 0.5035971223021583, 0.4748201438848921, 0.4316546762589928]

fpr = [0.11812699538843562, 0.11812699538843562, 0.11245122383824051, 0.12202908832919475, 0.1308974813763746, 0.11493437389145086, 0.12344803121674353, 0.11493437389145086, 0.1074849237318198, 0.11954593827598439]

x = x.rowstack(tb.tabarray(columns=[fold, method, z, z, [0.04] * 10, acc, y['leaves'][y['R']==0.04], train_acc, z, z, z, z, z, tpr, fpr], names=names))

x.saveSV(fout)
