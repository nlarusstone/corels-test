import tabular as tb

fout = 'weapon_sparsity_jmlr-sbrl.csv'
names = 'Fold,Method,C,cp,R,accuracy,leaves,train_accuracy,ntest,TP,FP,FN,TN,TPR,FPR'
fold = [('weapon_%d' % i) for i in range(10)]
method = ['SBRL'] * 10
z = [0] * 10

# ./sbrl.sh weapon > weapon_sbrl-eta=3_lambda=9_i=1000.txt
# ./sbrlmod-ela -t 3 -d 10 -e 3 -l 9 -i 1000 -S 0 $train_out $train_label $test_out $test_label # weapon

""" previous:
0,SBRL,0,0,0,0.8286000000,24,0.7150092636
1,SBRL,0,0,0,0.8563220000,23,0.7061999914
2,SBRL,0,0,0,0.8664640000,24,0.7114816139
3,SBRL,0,0,0,0.8313050000,24,0.7164479128
4,SBRL,0,0,0,0.7961460000,24,0.7171770911
5,SBRL,0,0,0,0.8279240000,22,0.7121122537
6,SBRL,0,0,0,0.7734960000,25,0.7215915794
7,SBRL,0,0,0,0.7914130000,26,0.7115210288
8,SBRL,0,0,0,0.8167680000,25,0.7040321626
9,SBRL,0,0,0,0.8215010000,24,0.7167238171
"""

x = [[0.76166, 21, 0.00000, 2958, 83, 649, 56, 2170, 0.59712, 0.23022],
[0.84855, 22, 0.00000, 2958, 78, 387, 61, 2432, 0.56115, 0.13728],
[0.85970, 23, 0.00000, 2958, 73, 349, 66, 2470, 0.52518, 0.12380],
[0.84077, 25, 0.00000, 2958, 79, 411, 60, 2408, 0.56835, 0.14580],
[0.85159, 18, 0.00000, 2958, 70, 370, 69, 2449, 0.50360, 0.13125],
[0.82049, 21, 0.00000, 2958, 87, 479, 52, 2340, 0.62590, 0.16992],
[0.81508, 18, 0.00000, 2958, 67, 475, 72, 2344, 0.48201, 0.16850],
[0.81373, 18, 0.00000, 2958, 74, 486, 65, 2333, 0.53237, 0.17240],
[0.81034, 22, 0.00000, 2958, 94, 516, 45, 2303, 0.67626, 0.18304],
[0.82725, 22, 0.00000, 2958, 75, 447, 64, 2372, 0.53957, 0.15857]]

y1 = tb.tabarray(columns=[fold, method, z, z, z], names='Fold,Method,C,cp,R'.split(','))
y2 = tb.tabarray(array=x, names='accuracy,leaves,train_accuracy,ntest,TP,FP,FN,TN,TPR,FPR')
y3 = tb.tabarray(columns=[[3] * 10, [9] * 10, [1000] * 10], names='eta,lambda,i'.split(','))
y = y1.colstack(y2).colstack(y3)

# ./sbrl.sh weapon > weapon_sbrl-eta=500_lambda=5_i=10000.txt
# ./sbrlmod-ela -t 3 -d 10 -e 500 -l 5 -i 10000 -S 0 $train_out $train_label $test_out $test_label # weapon


""" previous:
0,SBRL,0,0,0,0.8421230000,17,0.7106538973,500,5
1,SBRL,0,0,0,0.7332660000,13,0.6859012258,500,5
2,SBRL,0,0,0,0.8536170000,14,0.7032438604,500,5
3,SBRL,0,0,0,0.8360380000,11,0.7034015232,500,5
4,SBRL,0,0,0,0.8265720000,17,0.7091758293,500,5
5,SBRL,0,0,0,0.8346860000,17,0.7118166404,500,5
6,SBRL,0,0,0,0.8258960000,18,0.7166252793,500,5
7,SBRL,0,0,0,0.8191350000,12,0.7071262474,500,5
8,SBRL,0,0,0,0.8269100000,10,0.7011154480,500,5
9,SBRL,0,0,0,0.8441510000,18,0.7110283373,500,5
"""

x = [[0.84212, 17, 0.00000, 2958, 69, 397, 70, 2422, 0.49640, 0.14083],
[0.73327, 13, 0.00000, 2958, 90, 740, 49, 2079, 0.64748, 0.26250],
[0.85362, 14, 0.00000, 2958, 70, 364, 69, 2455, 0.50360, 0.12912],
[0.83604, 11, 0.00000, 2958, 79, 425, 60, 2394, 0.56835, 0.15076],
[0.82657, 17, 0.00000, 2958, 74, 448, 65, 2371, 0.53237, 0.15892],
[0.83469, 17, 0.00000, 2958, 82, 432, 57, 2387, 0.58993, 0.15325],
[0.82590, 18, 0.00000, 2958, 71, 447, 68, 2372, 0.51079, 0.15857],
[0.81913, 12, 0.00000, 2958, 73, 469, 66, 2350, 0.52518, 0.16637],
[0.82691, 10, 0.00000, 2958, 87, 460, 52, 2359, 0.62590, 0.16318],
[0.84415, 18, 0.00000, 2958, 72, 394, 67, 2425, 0.51799, 0.13977]]

y2 = tb.tabarray(array=x, names='accuracy,leaves,train_accuracy,ntest,TP,FP,FN,TN,TPR,FPR')
y3 = tb.tabarray(columns=[[500] * 10, [5] * 10, [10000] * 10], names='eta,lambda,i'.split(','))
y = y.rowstack(y1.colstack(y2).colstack(y3))

y.saveSV(fout)
